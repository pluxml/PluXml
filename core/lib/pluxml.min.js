<!--
function dateNow(delta){var d=new Date();var utc=d.getTime()+(d.getTimezoneOffset()*60000);var now=new Date(utc+(1000*delta));var y=now.getFullYear();var m=now.getMonth();var d=now.getDate();var h=now.getHours();var i=now.getMinutes();if(i<=9){i='0'+i;}
if(h<=9){h='0'+h;}
if(d<=9){d='0'+d;}
m=m+1;if(m<=9){m='0'+m;}
document.getElementsByName('day')['0'].value=d;document.getElementsByName('time')['0'].value=h+":"+i;document.getElementsByName('month')['0'].value=m;document.getElementsByName('year')['0'].value=y;}
function answerCom(where,id,author){document.getElementById('id_parent').value=id;scrollTo(0,0);}
function addText(where,open,close){close=close==undefined?'':close;var formfield=document.getElementsByName(where)['0'];if(document.selection&&document.selection.createRange){formfield.focus();sel=document.selection.createRange();sel.text=open+sel.text+close;formfield.focus();}
else if(formfield.selectionStart||formfield.selectionStart=='0'){var startPos=formfield.selectionStart;var endPos=formfield.selectionEnd;var restoreTop=formfield.scrollTop;formfield.value=formfield.value.substring(0,startPos)+open+formfield.value.substring(startPos,endPos)+close+formfield.value.substring(endPos,formfield.value.length);formfield.selectionStart=formfield.selectionEnd=endPos+open.length+close.length;if(restoreTop>0)formfield.scrollTop=restoreTop;formfield.focus();}
else{formfield.value+=open+close;formfield.focus();}
return;}
function checkAll(inputs,field){for(var i=0;i<inputs.elements.length;i++){if(inputs[i].type=="checkbox"&&inputs[i].name==field){inputs[i].checked=!inputs[i].checked;}}}
function confirmAction(inputs,selfield,selvalue,field,msg){if(document.getElementById(selfield).value==selvalue){var action=false;for(var i=0;i<inputs.elements.length;i++){if(inputs[i].type=="checkbox"&&inputs[i].name==field){if(inputs[i].checked){action=true}}}
return(action?confirm(msg):false);}}
function toggleDiv(divId,togglerId,on,off){var toggler=document.getElementById(togglerId);if(document.getElementById(divId).style.display=='none'){document.getElementById(divId).style.display='block';toggler.innerHTML=off;}else{document.getElementById(divId).style.display='none';toggler.innerHTML=on;}}
function insTag(where,tag){var formfield=document.getElementsByName(where)['0'];if(formfield.value=='')
formfield.value=tag;else
formfield.value=formfield.value+', '+tag;}
--><!--
var mediasManager={construct:function(opts){this.width=opts.width?opts.width:800;this.height=opts.height?opts.height:580;this.windowName=opts.windowName;this.racine=opts.racine;this.root=opts.root;this.urlManager=opts.urlManager;this.replace=true;this.init();},openPopup:function(cibleId,replace,fallback){this.cibleId=cibleId;this.replace=replace==undefined?this.replace:replace;this.fallback=fallback==undefined?'':fallback;var left=(screen.width-this.width)/ 2;var top=(screen.height-this.height)/ 2;var options='directories=no, toolbar=no, menubar=no, location=no, resizable=yes, scrollbars=yes, width='+this.width+' , height='+this.height+', left='+left+', top='+top;popup=window.open(unescape(this.urlManager),this.windowName,options);if(popup){popup.focus();}else{alert('Ouverture de la fenêtre bloquée par un anti-popup!');}
return false;},init:function(){if(window.name==this.windowName){this.css();var replace=window.opener.mediasManager.replace;var racine=window.opener.mediasManager.racine;var root=window.opener.mediasManager.root;var cibleId=window.opener.mediasManager.cibleId;var fallback=window.opener.mediasManager.fallback;var anchors=document.querySelectorAll('#medias-table tbody td:nth-of-type(3) a');for(var i=0,j=anchors.length;i<j;i++){var anchor=anchors.item(i);var imgUrl=anchor.href.replace(racine,'');if(fallback==''){anchor.setAttribute("onclick","return mediasManager.addText('"+cibleId+"', '"+imgUrl+"', "+replace+")");}else{anchor.setAttribute("onclick",fallback+'("'+cibleId+'", "'+root+'", "'+imgUrl+'", "'+replace+'")');}}}},css:function(){var style=document.createElement('style');style.type='text/css';style.innerHTML='.aside { display: none;}.section .action-bar { left: 0; right: 0; margin-right: 0; margin-left: 0;}@media (min-width: 768px) { .col.lrg-offset-2 {  margin-left: 10px;  margin-right: 20px;  width: 100%; }}';document.getElementsByTagName('head')[0].appendChild(style);},addText:function(cibleId,txt,replace){var cible=window.opener.document.getElementById(cibleId);if(cible){cible.focus();if(replace){cible.value=txt;}else{if(document.selection&&document.selection.createRange){sel=document.selection.createRange();sel.text=sel.text+txt;}
else if(cible.selectionStart||cible.selectionStart=='0'){var startPos=cible.selectionStart;var endPos=cible.selectionEnd;var restoreTop=cible.scrollTop;cible.value=cible.value.substring(0,startPos)+txt+cible.value.substring(startPos,endPos)+cible.value.substring(endPos,cible.value.length);cible.selectionStart=cible.selectionEnd=endPos+txt.length;if(restoreTop>0)cible.scrollTop=restoreTop;}
else{cible.value+=txt;}}
cible.focus();}else{console.log('Element #'+cibleId+' introuvable');}
close();return false;}};--><!--
var nfiles=0;var MultiSelector={init:function(){this.count=0;this.files_list=document.getElementById("files_list");this.selector=document.getElementById("selector_0");this.selector.addEventListener("change",this,false);},handleEvent:function(e){switch(e.type){case"change":e.stopPropagation();e.preventDefault();this.handleChange();break;}},handleChange:function(){this.selector=document.getElementById("selector_"+this.count++);this.selector.style.position='absolute';this.selector.style.left='-1000px';var new_element=document.createElement('input');new_element.type="file";new_element.multiple="multiple";new_element.id="selector_"+this.count;new_element.name="selector_"+this.count+"[]";new_element.addEventListener("change",this,false);this.selector.parentNode.insertBefore(new_element,this.selector)
for(i=0;i<this.selector.files.length;i++){this.addListRow(this.selector,(this.count-1)+'_'+i,this.selector.files[i].name);this.selector.parentNode.insertBefore(new_element,this.selector);}},addListRow:function(element,i,filename){var new_row=document.createElement('div');new_row.setAttribute("id","rowfile_"+i);new_row.setAttribute("class","rowfile");new_row.setAttribute("className","rowfile");new_hidden=document.createElement('input');new_hidden.type="checkbox";new_hidden.name="myfiles[]";new_hidden.checked="checked";new_hidden.value=i;new_hidden.style.position='absolute';new_hidden.style.left='-1000px';var new_lnkDelete=document.createElement('a');new_lnkDelete.setAttribute('href','javascript:void(0)');new_lnkDelete.innerHTML='&#10006';new_lnkDelete.setAttribute("class","btnDelete");new_lnkDelete.setAttribute("className","btnDelete");var new_row_div=document.createElement('div');new_row_div.innerHTML='&nbsp;'+this.basename(filename);new_row_div.setAttribute("class","divtitle");new_row_div.setAttribute("className","divtitle");new_row.element=element;new_lnkDelete.onclick=function(){var div=document.getElementById('rowfile_'+i);div.parentNode.removeChild(div);nfiles--;}
new_row.appendChild(new_hidden);new_row.appendChild(new_lnkDelete);new_row.appendChild(new_row_div);this.files_list.appendChild(new_row);nfiles++;},basename:function(path){return path.replace(/\\/g,'/').replace(/.*\//,'');}};MultiSelector.init();--><!--
function setOpacity(obj,opacity){obj.style.minHeight=obj.style.minHeight;opacity=(opacity==100)?99.999:opacity;obj.style.filter="alpha(opacity="+opacity+")";obj.style.KHTMLOpacity=opacity/100;obj.style.MozOpacity=opacity/100;obj.style.opacity=opacity/100;}
function fadeOut(objId,opacity){var obj=document.getElementById(objId);if(obj){if(opacity==undefined){window.setTimeout("fadeOut('"+objId+"',"+100+")",3000);}else{if(opacity>=0){setOpacity(obj,opacity);opacity-=10;window.setTimeout("fadeOut('"+objId+"',"+opacity+")",100);}else{obj.style.display='none';}}}}
function setMsg(){if(document.getElementById('msg')){objDiv=document.getElementById('msg');objSidebar=document.getElementById('sidebar')
if(typeof window.innerWidth!='undefined'){wndWidth=window.innerWidth;}
else if(typeof document.documentElement!='undefined'&&typeof document.documentElement.clientWidth!='undefined'&&document.documentElement.clientWidth!=0){wndWidth=document.documentElement.clientWidth;}
else{wndWidth=document.getElementsByTagName('body')[0].clientWidth;}
xpos=Math.round((wndWidth-objDiv.offsetWidth)/2);objDiv.style.left=xpos+'px';fadeOut('msg');}}
-->